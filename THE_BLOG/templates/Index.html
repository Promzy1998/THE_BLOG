{% extends 'base.html' %}
{% load static %}
{% block main_section %}   
     
         <!-- Blog main section-->
         <div class="Main-section padding-top">
            <div class="Top-text">
            <h4 class="color-white">Recent blog posts</h4>
            </div>
            <div class="Recent-blog-post flex-container-column padding-top first-blog-post">
                <div class="Recent-post flex-container-row">
                 {% for generate in recent_post %}
               
                    <div class="blog-post-card color-white">
                 
                    <div class="img">
                    <a href="{% url 'DetailPost' 'Category' generate.category generate.slug %}">
                     <img src="{{generate.PostImage.url}}" alt="img" width="100%" class="responsive-img">
                    </a>
                    </div>
                    {% if user.is_authenticated %}
                    {% if request.user == generate.author %}
                    <div class="author-tools p-5 text-center">
                        <div class="tools-box" style="font-size: 150%;">
                             <div class="Delete p-1">
                                <a href="{% url 'DeletePost' generate.category generate.slug %}">
                                <button type="button" >
                                Delete
                            </button>
                        </a>
                        </div>
                            <div class="Update p-1">
                                <a href="{% url 'EditPost' generate.category generate.slug  %}">
                                <button type="button" >
                                   Update
                                </button>
                            </div>
                            <div class="View  p-1">
                                <a href="{% url 'DetailPost' 'Category' generate.category generate.slug %}">
                                <button type="button">
                               View
                            </button>
                        </a>
                        </div>
                        </div>
                      </div> 
                    {% endif %}    
                    {% endif %}    
                    <div class="text-desc">
                        <div class="datetime-stamp">
                            <h3 class="color-white">{{generate.created_at|date:"d D M Y -H:i"}}</h3>
                            </div>
                        <div class="blogpost-description">
                            <h3>{{generate.Title}}</h3>
                            <p>{{generate.Description|truncatewords:8}}</p>

                        </div>
                </div>
             
                   <div class="button">
                    <a href="{% url 'DetailPost' 'category' generate.category generate.slug %}">
                    <input type="button" value="READ MORE">
                    </a>
                   </div>
                 
                 </div>
                 {% endfor %}
                
                </div>
                <div class="Recent-post margin-top-5">
                    {% for biggerPost in bigger_post %}
                    <div class="blog-post-card3 color-white">
                        <div class="img">
                        <a href="{% url 'DetailPost' 'category' biggerPost.category biggerPost.slug %}">
                        <img src="{{biggerPost.PostImage.url}}" alt="Tourist site" width="100%" height="100%">
                        </a>
                        </div>
                        {% if user.is_authenticated %}
                        {% if request.user == biggerPost.author %}
                    <div class="author-tools p-5 text-center">
                        <div class="tools-box" style="font-size: 150%;">
                             <div class="Delete p-1">
                                  <a href="{% url 'DeletePost'  biggerPost.category biggerPost.slug %}">
                                <button type="button" >
                                Delete
                            </button>
                            </a>
                        </div>
                            <div class="Update p-1">
                                <a href="{% url 'EditPost' biggerPost.category biggerPost.slug %}">
                                <button type="button" >
                                   Update
                                </button>
                                </a>
                            </div>
                            <div class="View  p-1">
                                <a href="{% url 'DetailPost' 'category' biggerPost.category biggerPost.slug  %}">
                                <button type="button">
                               View
                            </button>
                            </a>
                        </div>
                        </div>
                      </div> 
                    {% endif %}    
                    {% endif %}    
                        <div class="text-description">
                            <div class="description">
                                <div class="datetime-stamp">
                                    <h2 class="color-white">{{biggerPost.created_at|date:"d D M Y H:i"}}</h2>
                                </div>
                                <div class="blogpost-description">
                                    <h3 class="color-white">{{biggerPost.Title}}</h3>
                                    <p class="color-white">{{biggerPost.Description|truncatewords:8}}</p>
                                </div>
                                <div class="button">
                                    <a href="{% url 'DetailPost' 'category' biggerPost.category biggerPost.slug %}">
                                    <input type="button" value="KNOW MORE">
                                    </a>
                                   </div>

                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="All-post margin-top-5">
                    {% if first_all_posts %}
                    <h2>All Blog Post</h2>
                    {% endif %}
                    <div class="post-container flex-container-row">
                        {% for first_post in first_all_posts %}
                    <div class="post first-post">
                        <div class="img">
                        <a href="{% url 'DetailPost' 'category' first_post.category first_post.slug %}">
                            <img src="{{first_post.PostImage.url}}" alt="b-village" width="100%">
                            </a>
                        </div>
                        {% if user.is_authenticated %}
                        {% if request.user == first_post.author %}
                    <div class="author-tools p-5 text-center">
                        <div class="tools-box" style="font-size: 150%;">
                             <div class="Delete p-1">
                                <a href="{% url 'DeletePost' first_post.category first_post.slug %}">
                                <button type="button" >
                                Delete
                            </button>
                                </a>
                        </div>
                            <div class="Update p-1">
                                <a href="{% url 'EditPost' first_post.category first_post.slug %}">
                                <button type="button" >
                                   Update
                                </button>
                                </a>
                            </div>
                            <div class="View  p-1">
                                <a href="{% url 'DetailPost'  'category' first_post.category first_post.slug %}">
                                <button type="button">
                               View
                            </button>
                        </a>
                        </div>
                        </div>
                      </div> 
                    {% endif %}    
                    {% endif %}    
                        <div class="text-desc">
                            <div class="description">
                                <div class="datetime-stamp">
                                    <h3>{{first_post.created_at|date:"d D M Y -H:i"}}</h3>
                                </div>
                                <div class="blogpost-description">
                                    <h3 class="color-white">{{first_post.Title}}.</h3>
                                    <p>{{first_post.Description|truncatewords:4}}.</p>
                                </div>
                                <div class="button">
                                <a href="{% url 'DetailPost' 'category' first_post.category first_post.slug %}"> 
                                    <input type="button" value="GET MORE DETAILS" >
                                    </a>
                                   </div>

                            </div>
                        </div>
                    </div>
                       {% endfor %}                
                    </div>
                    <div class="post-container flex-container-row post-2">
                        {% for second_post in second_all_posts %}
                        <div class="post flex-container-column post-display margin-top-5">
                            <div class="img">
                                <a href="{% url 'DetailPost' 'category' second_post.category second_post.slug %}">
                                <img src="{{second_post.PostImage.url}}" alt="sharp leggins wears" width="100%">
                                </a>
                            </div>
                            {% if user.is_authenticated %}
                            {% if request.user == second_post.author %}
                    <div class="author-tools p-5 text-center">
                        <div class="tools-box" style="font-size: 150%;">
                             <div class="Delete p-1">
                                <a href="{% url 'DeletePost' second_post.category second_post.slug %}">
                                <button type="button" >
                                Delete
                            </button>
                                </a>
                        </div>
                            <div class="Update p-1">
                                <a href="{% url 'EditPost' second_post.category second_post.slug %}">
                                <button type="button" >
                                   Update
                                </button>
                                </a>
                            </div>
                            <div class="View  p-1">
                                <a href="{% url 'DetailPost' 'category' second_post.category second_post.slug %}">
                                <button type="button">
                               View
                            </button>
                        </a>
                        </div>
                        </div>
                      </div> 
                    {% endif %}    
                    {% endif %}    
                            <div class="text-desc margin-top-5">
                                <div class="description">
                                    <div class="datetime-stamp">
                                        <h3>{{second_post.created_at|date:"d D M Y H:i"}}</h3>
                                    </div>
                                    <div class="blogpost-description">
                                        <h3 class="color-white">{{second_post.Title}}.</h3>
                                        <p class="color-white">{{second_post.Description|truncatewords:8}}.</p>
                                         </div>
                                    <div class="button">
                                        <a href="{% url 'DetailPost' 'category' second_post.category second_post.slug %}">
                                        <input type="button" value="KNOW MORE">
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                        <div class="flex-container-column post-display2">
                            {% for third_post in third_all_posts %}
                            <div class="post flex-container-row post-a padding-2">
                                <div class="img">
                                    <a href="{% url 'DetailPost' 'Category' third_post.category third_post.slug %}">
                                    <img src="{{third_post.PostImage.url}}" alt="stretch-able" width="100%">
                                </a>
                                </div>
                                {% if user.is_authenticated %}
                                {% if request.user == third_post.author %}
                    <div class="author-tools p-5 text-center">
                        <div class="tools-box" style="font-size: 150%;">
                             <div class="Delete p-1">
                                <a href="{% url 'DeletePost' third_post.category third_post.slug %}">
                                <button type="button" >
                                Delete
                            </button>
                                </a>
                        </div>
                            <div class="Update p-1">
                                <a href="{% url 'EditPost' third_post.category third_post.slug %}">
                                <button type="button" >
                                   Update
                                </button>
                                </a>
                            </div>
                            <div class="View  p-1">
                            <a href="{% url 'DetailPost' 'Category' third_post.category third_post.slug %}">
                                <button type="button">
                               View
                            </button>
                        </a>
                        </div>
                        </div>
                      </div> 
                    {% endif %}    
                    {% endif %}    
                                <div class="text-desc margin-top-5">
                                    <div class="description">
                                        <div class="datetime-stamp">
                                        <h3>{{third_post.created_at|date:"d D M Y H:i"}} </h3>
                                        </div>
                                        <div class="blogpost-description">
                                            <h3 class="color-white">
                                                {{third_post.Title}}
                                            </h3>
                                            <p class="color-white">
                                                {{third_post.Description|truncatewords:2}}
                                            </p>
                                        </div>
                                        <div class="button">
                                            <a href="{% url 'DetailPost' 'Category' third_post.category third_post.slug %}">
                                            <input type="button" value="FIND OUT MORE">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                           
                    </div>
                   
                    </div>
                {% for footerPost in footer_post %}
                <div class="catch-phrase-blog margin-top-5">
                <div class="img">
                    <a href="{% url 'DetailPost' 'Category' footerPost.category  footerPost.slug %}">
                        <img src="{{footerPost.PostImage.url}}" alt="footerimage" width="100%">
                    </a>
                    </div>
                    {% if user.is_authenticated %}
                    {% if request.user == footerPost.author %}
                    <div class="author-tools p-5 text-center">
                        <div class="tools-box" style="font-size: 150%;">
                             <div class="Delete p-1">
                                <a href="{% url 'DeletePost' footerPost.category footerPost.slug %}">
                                <button type="button" >
                                Delete
                            </button>
                                </a>
                        </div>
                            <div class="Update p-1">
                                <a href="{% url 'EditPost' footerPost.category footerPost.slug %}">
                                <button type="button" >
                                   Update
                                </button>
                            </a>
                            </div>
                            <div class="View  p-1">
                                <a href="{% url 'DetailPost' 'Category' footerPost.category footerPost.slug %}">
                                <button type="button">
                               View
                            </button>
                        </a>
                        </div>
                        </div>
                      </div> 
                    {% endif %}    
                    {% endif %}    
                    <div class="desc">
                    <div class="datetime-stamp" >
                            <h3 style="color: white;">{{footerPost.created_at|date:"d D M Y-H:i"}}</h3>
                        </div>
                       <h2>{{footerPost.Title}}</h2>
                       <h3 class="color-white">{{footerPost.Description|truncatewords:8}}</h3>
                       <a href="{% url 'DetailPost' 'Category' footerPost.category footerPost.slug %}">
                        <button type="submit">HERE IS WHY</button>
                       </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        <!-- blog footer -->
        <div class="footer">
            <div class="footer-container">
                <div class="Top-footer-nav">
                    <div class="previous">
                        {% if page_obj.has_previous %}
                        <a href="?page={{ page_obj.previous_page_number }}">
                        <img src="{% static './assets/img/logo_assets/arrow.png' %}" alt="back arrow" id="prev" class="prev"><span>Previous</span>
                    </a>
                        {% endif %}
                    </div>
                     <!-- Page Numbers -->
                <div class="nav-numbers">
                    <div class="numbers">
                        {% for num in page_obj.paginator.page_range %}
                            {% if num >= page_obj.number|add:-2 and num <= page_obj.number|add:2 %}
                                {% if num == page_obj.number %}
                                    <span id="active">{{ num }}</span>
                                {% else %}
                                    <a href="?page={{ num }}"><span>{{ num }}</span></a>
                                {% endif %}
                            {% elif num == 1 or num == page_obj.paginator.num_pages %}
                                <a href="?page={{ num }}"><span>{{ num }}</span></a>
                            {% elif forloop.first or forloop.last %}
                                <span>...</span>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                    <div class="next">
                        {% if page_obj.has_next %}
                        <span>Next</span>
                    <a href="?page={{page_obj.next_page_number}}">
                        <img src="{% static './assets/img/logo_assets/arrow-left.png'%}" alt="arrow front" id="next" class="next">
                    </a>
                        {% endif %}
                       
                    </div>
                </div>
               
                <div class="links margin-top-5">
                    <div> 
                        {% if user.is_authenticated %}
                       
                        <a class="color-white" href="{% url 'PostView' request.user.slugs %}">view my blog</a>
                        {% endif %}
                    </div>
                    <a href="" id="Production">@ 2024,</a>
                    <a href="" id="Twitter">Twitter,</a>
                    <a href=""id="Linkedin">LinkedIn,</a>
                    <a href="" id="Email">Email,</a>
                    <a href="" id="Rssfeed">RSS feed</a>
                   
                </div>
            </div>
        </div>
    </div>
   </div> 
 
{% endblock %}
   



